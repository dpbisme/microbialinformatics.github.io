--- 
title       : Microbial Informatics
subtitle    : Lecture 07
date        : September 24, 2014
author      : Patrick D. Schloss, PhD (microbialinformatics.github.io)
job         : Department of Microbiology & Immunology
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : standalone    # {selfcontained, standalone, draft}
knit        : slidify::knit2slides

--- 

## Announcements
* When you upload your assignments, upload the README.Rmd and README.md files generated by RStudio/knitr
* Will use first hour tomorrow to cover subject material and second hour to help people with assignment
* Start thinking about your project for the first half of the semester
    * Emphasis on data analysis
    * Due 10/24/2104 (friday)
    * Feel free to come to office hours to discuss project ideas
    * I have some ideas for microbial ecology analysis projects

--- 

## Review
* Everything in R is some form of a vector - even output
* R has a rich set of descriptive statistics that can be used to simplify datasets

---

## Learning objectives
* Begin to develop data visualization skills in R
  * Histograms
  * 

```{r, eval=FALSE}
metadata <- read.table(file="wild.metadata.txt", header=T)
rownames(metadata) <- metadata$Group
metadata <- metadata[,-1]
```

---
	
## Data visualization

* This is a huge area of explorataion
* R is tremendously powerful for generating plots and data visualizaiton tools
* Can generally tell someone used MS Excel by how bad the plots look
* Can certainly generate crap in R, but upside is greater
* Numerous packages available, but we will focus on base package until the end of the semester:
  - Lattice
  - ggplot2
  - rgl

---

## Histograms

* Good for summarizing continuous data where you want to break it into discrete classes
* What do these two sets of commands do?

```{r, eval=FALSE, tidy=TRUE}
	par(mfrow=c(2,1))	# make two plotting windows
	hist(metadata$Weight[metadata$Sex=="F"])
	hist(metadata$Weight[metadata$Sex=="M"])
	par(mfrow=c(1,1))	# return to one plotting window

	par(mfrow=c(2,1))
	hist(metadata$Weight[metadata$Sex=="F"], breaks=10, ylim=c(0,20), xlim=c(0,30))
	hist(metadata$Weight[metadata$Sex=="M"], breaks=10, ylim=c(0,20), xlim=c(0,30), add=T)
	par(mfrow=c(1,1))
```

---

## Merging plots with `add=T`

```{r, eval=FALSE, tidy=TRUE}
hist(metadata$Weight[metadata$Sex=="F"], breaks=10, ylim=c(0,20), xlim=c(0,30), col="pink")
hist(metadata$Weight[metadata$Sex=="M"], breaks=10, col="blue", add=T)
```

---

## Universal options

* Axis labels

```{r, eval=FALSE}
hist(metadata$Weight, xlab="Weights of Peromyscus spp.")
```

* Plot title

```{r, eval=FALSE}
hist(metadata$Weight, main="Distribution of Peromyscus spp. weights")
```

* Putting it together

```{r, eval=FALSE, tidy=TRUE}
hist(metadata$Weight, main="Distribution of Peromyscus spp. weights", xlab="Weights of Peromyscus spp.")
box()
```

---

## What is the output from `hist`?

```{r, eval=FALSE, tidy=TRUE}
m.hist <- hist(metadata$Weight[metadata$Sex=="F"], breaks=10, ylim=c(0,20), xlim=c(0,30), col="pink")
f.hist <- hist(metadata$Weight[metadata$Sex=="M"], breaks=10, col="blue", add=T)
```

---

##	Boxplots
*	Multiple histograms gets pretty cludgey
*	Box plots allows you to plot out the results of the summary command
	
```{r}
boxplot(metadata$Weight)	#	min, 25%tile, Median, 75%tile, max, outliers
boxplot(metadata$Weight[metadata$Sex=="F"],metadata$Weight[metadata$Sex=="M"])
boxplot(metadata$Weight~metadata$Sex)
```

---

## Barplots


---

##	Stripcharts
*	Perhaps we don't have a ton of points and we want to see all of the data (think of animal experiments)

```{r}
	stripchart(metadata$Weight)
	stripchart(metadata$Weight, method="jitter")
	stripchart(metadata$Weight~metdata$Sex, method="jitter")
	stripchart(metadata$Weight~metdata$Sex, method="jitter", vertical=T)
	stripchart(metadata$Weight~metdata$Sex, method="jitter", jitter=0.02, vertical=T)
	stripchart(metadata$Weight~metdata$Sex, method="jitter", jitter=0.02, vertical=T, pch=19)
```

---

## What's happening here?

```{r}
stripchart(metadata$Weight~metdata$Sex, method="jitter", jitter=0.02, vertical=T, pch=c(18,19), col=c("red", "blue")
```

---

##	Dot plots
*	The above methods generally involve plotting a numerical value against a categorical value
*	We'd also like to plot numerical variables against each other

```{r}
	plot(metadata$Weight)				#	what is this using as an x-axis?
	plot(metadata$Weight, metadata$Ear)			#	what is this using as an x-axis?			
	plot(metadata$Ear~metadata$Weight)			#	what is this using as an x-axis?
```

---

## Fun with plots
* Be sure to see `?plot` and `r ?plot.default`
```{r}
	plot(metadata$Ear~metadata$Weight, col="blue", pch=18)
	plot(metadata$Ear~metadata$Weight, col="blue", pch=20)
	plot(metadata$Ear~metadata$Weight, col="blue", pch=20, cex=2)
```

---

## `points`



---

## A different kind of histogram



---

### legends



---

## For Friday  
* Assignment due Friday
* Read ***Introduction to Statistics with R*** (Chapter 8)

--- .segue .dark

## Questions?

